# RESTfull API

- REST는 자원을 이름으로 구분하여 해당 자원의 상태를 주고 받는 것 입니다.
  HTTP URI를 통해 자원을 명시하고 HTTP메서드(POST,GET,PUT,DELETE)를 통해 해당 자원에 대한 CRUD를 적용하는 것을 의미합니다.

- RESTful API는 REST원칙을 적용하여 서비스 API를 설계한 것을 말합니다.

## 메소드와 기준

1. GET: 요청받은 URI 정보를 검색하여 응답합니다
2. POST: 요청된 자원을 생성
3. DELETE: 요청된 자원 삭제를 요청
4. PUT: 요청된 자원 전체를 수정

이 외에도

5. PATCH: 요청된 자원 일부를 수정
6. OPTION: 웹서버에서 지원되는 메서드의 종류를 확인할 경우 사용
7. HEAD: GET 방식과 동일, 하지만 응답에 BODY가 존재하지 않으며, 응답코드와 HEAD만 응답
8. CONNECT: 동적으로 터널모드를 교환, 프록시 기능을 요청시 사용
9. TRACE: 원격지 서버에 루프백 메세지를 호출하기 위해 테스트용으로 사용

등이 있지만 일반적인 어플리케이션에서는 잘 사용하지 않습니다.

> HEAD: 클라이언트가 본문 없이 리소스에 대한 더만 검색하는 경우 사용한다 -> 일반적으로 클라이언트가 서버에 리소스가 있는지 확인하거나 메타 데이터를 읽으려는 때만 GET 대신 사용

> OPTIONS: 클라이언트가 서버의 리소스에 대해 수행 가능한 동작을 알아보기 위해 사용한다 -> 일반적으로 서버는 이 리소스에 대해 사용할 수 있는 HTTP 요청 메서드를 포함하는 Allow헤더를 반환한다(CORS에 사용)

### RESTFul API가 아닌 것으로는 XML과 HTTP를 결합한 SOAP등이 있는 것으로 알고 있습니다. 원격과 로컨간의 연동은 많은 방법론을 통해 이루어져 왔지만 HTTP 프로토콜의 리스폰스, 에러 코드 등을 그대로 재사용 할 수 있다는 점과 개발자가 보다 직관적으로 이해할 수 있다는 점에서 RESTful API가 많이 사용되는 것으로 알고 있습니다.

## PATCH는 RESTful API에서 잘 사용되지 않는 이유

1. 일관성 부족: PATCH 메서드는 리소스의 부분적인 수정을 지원합니다. 하지만 이렇게 부분적으로 수정하는 것은 API의 일관성을 해치기 쉽습니다. 서버와 클라이언트 간의 의사소통이 복잡해질 수 있고, API의 작동 방식을 이해하기 어려울 수 있습니다.

2. 복잡성과 위험성: PATCH는 리소스의 일부만 변경할 수 있기 때문에 리소스의 구조가 복잡하거나 중첩된 경우에는 적절한 변경이 어려울 수 있스비다. 또한 사용자가 실수로 리소스를 손상시키는 위험성도 존재합니다.

3. 보안 이슈: PATCH는 일부 데이터만 전송하므로, 보안 문제가 발생할 수 있습니다. 예를 들어, 클라이언트가 리소스의 중요한 부분만 수정하도록 설계되었지만, 악의적인 사용자가 해당 리소스를 손상시킬 수 있습니다

4. 기타 HTTP 메서드의 충분성: 대부분의 경우 PUT 메서드를 사용하여 리소스 전체를 교체하는 것이 충분합니다. RESTful API는 대개 리소스의 전체 수정이 필요한 경우 PUT을 사용하고, 부분적인 수정이 필요한 경우 POST를 사용하는 등 다른 HTTP 메서드를 이용하여 일관성 있는 API를 설계할 수 있습니다.

5. 지원의 한계: 일부 서버 및 클라이언트는 PATCH 메서드를 제대로 지원하지 않을 수 있습니다. 이로 인해 호환성 문제가 발생할 수 있습니다.

따라서 대부분의 경우 PUT과 POST를 적절하게 사용하여 RESTful API를 설계하는 것이 더 일반적이고 권장되는 방법입니다.

[관련 포스팅 - REST API란 무엇인가?](https://junvelee.tistory.com/107)
