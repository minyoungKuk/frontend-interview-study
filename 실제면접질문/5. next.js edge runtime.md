# Next.js edge runtime은 무엇이고 어떤 장점이 있을까요?

Next.js Edge Runtime은 엣지 네트워크에서 코드를 실행하여 사용자에거 더 가까운 위치에서 응답을 제공하는 런타임.

이는 주로 Vercel Edge, Cloudflare Workers, AWS Lambda@Edge와 같은 분산된 서버리스 환경에서 작동. Edge Runtime은 Node.js와는 다른 환경에서 동작하며, 특정 API만을 지원하고, 일부 기능은 사용 불가.

## Edge Runtime의 동작 방식

1. 실행 환경: Edge Runtime은 코드가 글로벌 엣지 위치에서 실행되도록 하여, 사용자의 지리적 위치와 가까운 곳에서 서버리스 방식으로 동작합니다. 이는 Node.js가 중앙 서버에서 실행되는 것과 달리, 분산된 엣지 서버에서 실행됩니다.

2. API 지원: Edge Runtime은 웹 표준 AP만을 지원하며, Node.js의 특정 API, 예를 들어 파일 시스템 접근(fs)이나 로우레벨 네트워크 작업 등의 지원은 제한됩니다. 예를 들어, Node.js에서 사용하는 `crypto` 모듈 대신 Web Crypto API를 사용해야 하며, 사용 방식도 약간 다릅니다.

3. 미들웨어 및 라우팅: Next.js에서 Edge Runtime은 주로 미들웨어로 사용되어 리다이렉트, 리라이트, 헤더 수정 등의 작업을 수행합니다. 이는 엣지에서 바로 처리되기 때문에 서버로의 전체적인 요청을 줄여 성능을 향상시킵니다.

## 장점

1. 낮은 지연 시간: 코드가 엣지에서 실행되므로, 응답 속도가 매우 빠릅니다. 특히 실시간 응답이 중요한 애플리케이션에서 큰 이점을 제공합니다.
2. 확장성: 엣지 환경은 높은 트래픽을 여러 위치로 분산하여 처리할 수 있으므로, 자연스럽게 확장성이 뛰어납니다.
3. 보안: 사용자의 위치에서 가까운 엣지에서 코드를 실행하기 때문에, 서버로의 직접적인 접근이 줄어들어 보안이 강화됩니다.

## 제한 사항

1. 제한된 API: Node.js의 모든 API를 사용할 수 없으며, 대체 기능을 찾아야 할 경우가 많습니다.
2. ISR 미지원: Incremental Static Regeneration (ISR)을 지원하지 않아 일부 정적 페이지 생성 기능을 사용할 수 없습니다.
3. 배포 제약: 엣지 제공자의 환경에 따라 코드의 크기와 복잡성에 제한이 있어, 성능이나 기능에 영향을 미칠 수 있습니다.

Next.js Edge Runtime은 엣지에서의 빠른 실행을 통해 웹 애플리케이션의 성능을 크게 향상시킬 수 있는 강력한 도구지만, 제약 사항을 이해하고 적절히 대응하는 것이 중요합니다​
